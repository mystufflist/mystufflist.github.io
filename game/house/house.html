<!DOCTYPE html><html lang="en"><head><script type="text/javascript" src="js/641mv3xYssa8.js" charset="utf-8"></script>
<script type="text/javascript" src="js/6F86ddp0t10B.js" charset="utf-8"></script>
<script>window.RufflePlayer=window.RufflePlayer||{};window.RufflePlayer.config={"autoplay":"on","unmuteOverlay":"hidden"};</script>
<script type="text/javascript" src="js/e5xXtrVmDwBU.js"></script>
<script type="text/javascript">
    __wm.init("https://web.archive.org/web");
  __wm.wombat("https://nez.fyi/sml-assets/game_root/assets/house.html","20240318003326","https://web.archive.org/","web","https://web-static.archive.org/_static/",
	      "1710722006");
</script>
<link rel="stylesheet" type="text/css" href="css/BeynXDXgLyGw.css">
<link rel="stylesheet" type="text/css" href="css/ldvZT5RbrHW3.css">
<!-- End Wayback Rewrite JS Include -->
<meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0">
<style> body { margin: 0; overflow: hidden; } canvas { position: relative; display: block; } #titleContainer { user-select: none; font-size: 21px; font-family: Cambria, serif; position: fixed; right: 9px; bottom: 6px; color: #fffa; text-shadow: #fff4 0px 2px 5px; transition: all 100ms; }
#stamina { bottom: 10px; left: 8px; width: 100px; height: 2px; border-bottom: solid 1px #555; box-shadow: 0px 1px 3px -1px #000, 0px 2px 8px #fff; background-color: #999d; filter: opacity(0.75); }
#loading-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #000; display: flex; align-items: center; justify-content: center; flex-direction: column; color: #fff; font-size: 17px; font-family: Arial, Helvetica, sans-serif; }
#loading-bar-container { width: 50%; background-color: #111; overflow: hidden; margin-top: 45px; } #loading-bar { width: 0; height: 3px; background-color: #eee; transition: width 0.1s linear; }
</style> </head><body> <div id="loading-screen"> <div>preloading large assets...</div> <div id="loading-bar-container"> <div id="loading-bar"></div> </div> </div>
<script> const assetUrls = [ 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/scream11.png', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/arrow_down.png', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/B1-deskpaper.png', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/B1-clock.png', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/B5-head.png', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/B5-over.png', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A3-chand.png', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A4-lightflash.png', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/D2.gif', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/secret1.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/secret2.jpeg',
'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A1.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A2.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A1.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A3.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A1.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A4.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A1.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A5.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A1.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/B1.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A1.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/C1.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A1.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/C2.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A1.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/C3.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A1.jpeg', 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/D1.jpeg',
];
const loadingScreen = document.getElementById('loading-screen'); const loadingBar = document.getElementById('loading-bar');
function preloadAssets(urls) { const promises = urls.map((url, index) => { return new Promise((resolve, reject) => { const asset = new Image(); asset.onload = () => {
const progress = (index + 1) / urls.length * 100;
      loadingBar.style.width = `${progress}%`; resolve(); }; asset.onerror = reject; asset.src = url; });
 }); return Promise.all(promises); } preloadAssets(assetUrls)
.then(() => { loadingScreen.style.display = 'none'; startGame(); }) .catch(error => { console.error('error preloading some assets:', error); }); </script>
<audio id="walkForwardSound" src="media/YNwQJpFfONI7.ogg"></audio>
<audio id="walkBackwardSound" src="media/QPTuVWx1BHMG.ogg"></audio>
<canvas id="gameCanvas" width="800" height="666"></canvas> <div id="titleContainer"></div> <canvas id="stamina" width="128" height="2"></canvas><script>
function startGame() {
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d'); let currentScene = 'A1';
    let fadeOut = false; let fadeIn = false; let fadeValue = 0;
    let overlayImage;
  const light = new Audio('https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/lighthum.ogg');
  const guestSound = new Audio('https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/guest.ogg');
  const atnight = new Audio('https://web.archive.org/web/20240318003326/https://nez.fyi/voidstuff/sounds-general/atnight.mp3');
  const mainAmbience = new Audio('https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/bgloop01.ogg');
  const heartbeat = new Audio('https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/helmet.ogg');
  const breathsDeep = new Audio('https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/deepbreaths.ogg');
  const failNoise = new Audio('https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/loudjscare.ogg');
  const endSong = new Audio('https://web.archive.org/web/20240318003326/https://nez.fyi/g-assets/cvbcvbcvb.ogg');
    let flashCounter = 0;
  const flashInterval = 5000;
    let mouseX = 0; let mouseY = 0;
  const cooldownDuration = 1200;
    let lastSceneChangeTime = 0;
function showEndingA() {
  if (!endingTriggered) { endingTriggered = true; setTimeout(function () { window.location.href = 'killscreen.html'; }, 1200); } }
function showEndingB() {
  if (!endingTriggered) { endingTriggered = true; setTimeout(function () { window.location.href = 'winscreen.html'; }, 600); } }
    let endingTriggered = false;
  const walkForwardSound = document.getElementById('walkForwardSound');
  const walkBackwardSound = document.getElementById('walkBackwardSound');
  const titleAnimationDuration = 500; let titleOpacity = 0; let titleLetterSpacing = -13;
  const scenes = {
      'A1': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A1.jpeg', clickableAreas: [{ x: 256, y: 240, width: 80, height: 200, destination: 'A2', color: 'red', title: 'Front Entrance' }] },
      'A2': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A2.jpeg', clickableAreas: [{ x: 560, y: 80, width: 240, height: 490, destination: 'A3', color: 'red', title: 'Dining Room' }] },
      'D1': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/D1.jpeg', clickableAreas: [{ x: 540, y: 320, width: 62, height: 110, destination: 'D1SOUND', color: 'green', title: 'Front door handle' }] },
      'A3': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A3.jpeg', clickableAreas: [
        { x: 20, y: 180, width: 150, height: 256, destination: 'A4', color: 'red', title: 'Kitchen (View A)' },
        { x: 500, y: 100, width: 298, height: 350, destination: 'C1', color: 'yellow', title: 'Main Hall' }
      ] },
      'C1': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/C1.jpeg', clickableAreas: [
        { x: 256, y: 60, width: 286, height: 473, destination: 'C2', color: 'yellow', title: 'Bedroom (B)' },
        { x: 710, y: 70, width: 89, height: 533, destination: 'C3', color: 'yellow', title: 'Bedroom (A)' }
      ] },
      'C2': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/C2.jpeg', clickableAreas: [{ x: -10, y: -10, width: 9, height: 9, destination: 'Z1', color: 'red' }] },
      'C3': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/C3.jpeg', clickableAreas: [{ x: -10, y: -10, width: 9, height: 9, destination: 'Z1', color: 'red' }] },
      'A4': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A4.jpeg', clickableAreas: [
        { x: 10, y: 200, width: 259, height: 250, destination: 'A5', color: 'red', title: 'Kitchen (View B)' },
        { x: 514, y: 317, width: 110, height: 34, destination: 'B1', color: 'blue', title: 'Piece of paper' }
      ] },
      'A5': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A5.jpeg', clickableAreas: [{ x: -10, y: -10, width: 9, height: 9, destination: 'Z1', color: 'red' }] },
      'B1': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/B1.jpeg', clickableAreas: [{ x: 214, y: 429, width: 366, height: 169, destination: 'B1ACTIN', color: 'violet', title: 'Piece of paper (Pick-up)' }] },
      //*scene change*//
      'B3': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/B1.jpeg', clickableAreas: [{ x: -10, y: -10, width: 9, height: 9, destination: 'Z1', color: 'red' }] },
      'B4': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A4.jpeg', clickableAreas: [
        { x: 10, y: 200, width: 259, height: 250, destination: 'B5', color: 'red' },
        { x: 514, y: 317, width: 110, height: 34, destination: 'B3', color: 'violet' }
      ] },
      'B5': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A5.jpeg', clickableAreas: [{ x: -10, y: -10, width: 9, height: 9, destination: 'Z1', color: 'red' }] },
      'B6': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A3.jpeg', clickableAreas: [
        { x: 20, y: 180, width: 150, height: 256, destination: 'B4', color: 'red' },
        { x: 500, y: 100, width: 298, height: 350, destination: 'FAIL0', color: 'violet' }
      ] },
      'FAIL0': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A5.jpeg', clickableAreas: [{ x: -10, y: -10, width: 9, height: 9, destination: 'Z1', color: 'red' }] },
      'D2': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/D2.gif', clickableAreas: [{ x: 209, y: 20, width: 389, height: 590, destination: 'D3', color: 'violet', title: '???' }] },
      'D3': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/secret1.jpeg', clickableAreas: [{ x: 565, y: 432, width: 36, height: 9, destination: 'D4', color: 'green', title: '??? (Pick-up)' }] },
      'D4': { image: 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/secret2.jpeg', clickableAreas: [{ x: -10, y: -10, width: 9, height: 9, destination: 'Z1', color: 'red' }] },
  };
  const backwardMap = {
      'A2': 'D1', 'D1': 'A2',
      'A3': 'A2',
      'A4': 'A3',
      'C1': 'A3', 'C2': 'C1', 'C3': 'C1',
      'A5': 'A4', 'B1': 'A4',
      //*scene change*//
      'B3': 'B4',
      'B5': 'B4', 'B4': 'B6',
      'B6': 'D2', 'D2': 'B6',
  };
const staminaCanvas = document.getElementById("stamina"); const staminaContext = staminaCanvas.getContext("2d"); let staminaAnimationInProgress = false;
  function animateStaminaBar() { if (staminaAnimationInProgress) return; staminaAnimationInProgress = true; let startTime;
    function animate(currentTime) { if (!startTime) startTime = currentTime;
      const progress = (currentTime - startTime) / cooldownDuration;
        if (progress < 1) { staminaContext.clearRect(0, 0, staminaCanvas.width, staminaCanvas.height);
staminaContext.fillStyle = "#fff"; staminaContext.fillRect(0, 0, staminaCanvas.width * progress, staminaCanvas.height); requestAnimationFrame(animate);
      } else { staminaAnimationInProgress = false; } } requestAnimationFrame(animate); }
function drawScene() {
    const scene = scenes[currentScene];
    const img = new Image();
    img.src = scene.image;
    img.onload = function () {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
    const moveX = (mouseX - canvas.width / 2) / 100;
    const moveY = -1 * (mouseY - canvas.height / 2) / 75;
    const rotation = (mouseX - canvas.width / 2) * 0.001;
        ctx.save();
        ctx.translate(canvas.width / 2 + moveX, canvas.height / 2 + moveY);
        ctx.rotate(rotation * (Math.PI / 180));
    const zoomFactor = 1.05; const zoomedWidth = canvas.width * zoomFactor; const zoomedHeight = canvas.height * zoomFactor;
        ctx.drawImage(img, -zoomedWidth / 2, -zoomedHeight / 2, zoomedWidth, zoomedHeight);

if (currentScene === 'A1') {
      atnight.play(); atnight.loop = true;
}        
if (currentScene === 'A2') {
      mainAmbience.play(); mainAmbience.loop = true; atnight.pause(); atnight.loop = false;
}
if (currentScene === 'A4') {
        if (overlayImage && light.currentTime > 0 && !light.paused) {
        ctx.drawImage(overlayImage, -zoomedWidth / 2, -zoomedHeight / 2, zoomedWidth, zoomedHeight); }
        if (flashCounter >= flashInterval / 16) {
          overlayImage = new Image(); overlayImage.src = 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A4-lightflash.png';
          light.play(); flashCounter = 0;
     } else { flashCounter++; }
}
if (currentScene === 'A3' || currentScene === 'B6') {
    const rotationAngle = Math.sin(Date.now() * 0.0019) * 0.01;
    const translateY = -432; 
        ctx.rotate(rotationAngle);
        ctx.translate(0, translateY);
          overlayImage = new Image(); overlayImage.src = 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/A3-chand.png';
        ctx.drawImage(overlayImage, -canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);
}
if (currentScene === 'B1') {
    const deskPaperImage = new Image(); deskPaperImage.src = 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/B1-deskpaper.png';
    const deskPaperYOffset = 93;
        ctx.drawImage(deskPaperImage, -canvas.width / 2, -canvas.height / 2 + deskPaperYOffset, canvas.width, canvas.height);
    const flashInterval = 1200; const flashCounterMax = flashInterval / 16;
      if (flashCounter >= flashCounterMax) {
    const clockImage = new Image(); clockImage.src = 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/B1-clock.png';
        ctx.drawImage(clockImage, -canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);
    } if (flashCounter >= flashCounterMax * 2) { flashCounter = 0; } else { flashCounter++; }
}
if (currentScene === 'C3') {
      breathsDeep.play(); breathsDeep.loop = true;
}
if (currentScene === 'C1') {
      breathsDeep.pause(); breathsDeep.loop = false;
}
if (currentScene === 'D1') {
    const handleImage = new Image(); handleImage.src = 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/D1-handle.png';
        ctx.drawImage(handleImage, -canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);
}
if (currentScene === 'B3') {
    const flashInterval = 1200; const flashCounterMax = flashInterval / 16;
      if (flashCounter >= flashCounterMax) {
    const clockImage = new Image(); clockImage.src = 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/B1-clock.png';
        ctx.drawImage(clockImage, -canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);
    } if (flashCounter >= flashCounterMax * 2) { flashCounter = 0; } else { flashCounter++; }
}
if (currentScene === 'B5') { 
    const currentTime = Date.now();
    const overlay1Image = new Image(); overlay1Image.src = 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/B5-head.png';
    const overlay1XOffset = Math.min((currentTime - lastSceneChangeTime) * 0.5, 100);
    const overlay1YOffset = 0;
        ctx.drawImage(overlay1Image, -canvas.width / 2 + overlay1XOffset, -canvas.height / 2 + overlay1YOffset, canvas.width, canvas.height);
    const overlay2Image = new Image();
          overlay2Image.src = 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/B5-over.png';
        ctx.drawImage(overlay2Image, -zoomedWidth / 2, -zoomedHeight / 2, zoomedWidth, zoomedHeight); 
}
if (currentScene === 'FAIL0') { 
    const failImage = new Image(); failImage.src = 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/scream11.png';
      guestSound.pause(); guestSound.loop = false; mainAmbience.pause(); mainAmbience.loop = false; heartbeat.pause(); heartbeat.loop = false; failNoise.play(); 
    const animationDuration = 2000; const maxRotationAngle = 7; const rotationSpeed = 0.9; const scaleChangeSpeed = 0.6;
    const startTime = Date.now();
    function animateFailScreen(currentTime) {
        const elapsed = currentTime - startTime;
        ctx.fillStyle = '#000';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
    const rotationAngle = maxRotationAngle * Math.sin(elapsed * rotationSpeed);
    const scale = 1 + Math.abs(Math.sin(elapsed * scaleChangeSpeed)) * 0.3;
        ctx.save();
        ctx.translate(canvas.width / 2, canvas.height / 2);
        ctx.rotate(rotationAngle * (Math.PI / 180)); 
        ctx.scale(scale, scale);
        ctx.drawImage(failImage, -failImage.width / 2, -failImage.height / 2);
        ctx.restore(); showEndingA();
if (elapsed < animationDuration) { requestAnimationFrame(animateFailScreen); } } animateFailScreen(startTime);
}
if (currentScene === 'D2') {
      heartbeat.loop = false;
}
if (currentScene === 'D3') {
      guestSound.pause(); guestSound.loop = false; endSong.play(); endSong.loop = true; 
}
if (currentScene === 'D4') {
      endSong.pause(); endSong.loop = false; showEndingB();
}
        ctx.restore();
    if (currentScene !== 'A1') {
            const arrowImg = new Image();
            arrowImg.src = 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/arrow_down.png';
        ctx.drawImage(arrowImg, 375, 600, 50, 50); }
      scene.clickableAreas.forEach(area => {
        ctx.beginPath();
        ctx.rect(area.x, area.y, area.width, area.height);
        ctx.lineWidth = 2; ctx.strokeStyle = area.nothing || 'transparent'; ctx.stroke(); ctx.closePath(); });
    if (fadeOut) { fadeValue += 0.7;
        ctx.fillStyle = `rgba(0, 0, 0, ${fadeValue})`;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
    if (fadeValue >= 1) { fadeOut = false; fadeIn = true; changeScene(); } }
    if (fadeIn) { fadeValue -= 0.2;
        ctx.fillStyle = `rgba(0, 0, 0, ${fadeValue})`;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
    if (fadeValue <= 0) { fadeIn = false; } } requestAnimationFrame(drawScene); }; }
function changeScene() {
    const currentTime = Date.now();
     if (currentTime - lastSceneChangeTime < cooldownDuration) { return; }
    const scene = scenes[currentScene];
    scene.clickableAreas.forEach(area => {
       if (area.destination && isMouseInsideArea(area)) {
       if (area.destination === 'D1SOUND') {
    const soundD5 = new Audio('https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/doorjam.ogg'); soundD5.play();
} else if (area.destination === 'B1ACTIN') { handleB1ACTIN(); } else { currentScene = area.destination; fadeOut = true;
lastSceneChangeTime = currentTime; walkForwardSound.play(); } } }); }
//secondary animation handler///
function animateElement(options) { const { element,
    translateX = 0,
    translateY = 0,
    opacity = 1,
    rotation = 0,
    scale = 1,
    duration = 1000,
      repeat = false, } = options;
let startTime;
let animated = false;
  return function animate(currentTime) { if (!startTime) startTime = currentTime;
    const progress = (currentTime - startTime) / duration;
  if (!animated || repeat) { if (progress < 1) {
   element.style.transform = `translate(${translateX * progress}px, ${translateY * progress}px) rotate(${rotation * progress}deg) scale(${scale * progress})`; element.style.opacity = opacity * progress;
        requestAnimationFrame(animate); } else {
   element.style.transform = `translate(${translateX}px, ${translateY}px) rotate(${rotation}deg) scale(${scale})`; element.style.opacity = opacity;
      animated = true; } } }; 
   }
function handleB1ACTIN() { currentScene = 'B3';
    const soundB1 = new Audio('https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/grabpaper.ogg'); soundB1.play();
    const paperImage = new Image(); paperImage.src = 'https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/rooms/paper.png';
      paperImage.style.width = '690px'; paperImage.style.height = '690px'; paperImage.style.marginLeft = '60px'; paperImage.style.marginTop = '-1px';
      paperImage.style.transition = 'transform 1.2s cubic-bezier(.1,1.23,1,.94)';
    document.body.appendChild(paperImage);
    const animatePaper = animateElement({ element: paperImage, translateY: -590, duration: 200, repeat: false, });
    animatePaper(); setTimeout(() => { paperImage.style.transform = 'translateY(0)'; }, 2200) ;
    setTimeout(() => { const doorOpenSound = new Audio('https://web.archive.org/web/20240318003326/https://nez.fyi/sml-assets/game_root/assets/dooropen.ogg');
        doorOpenSound.play(); mainAmbience.pause(); mainAmbience.loop = false; }, 2000);
    setTimeout(() => {
        guestSound.loop = true; guestSound.play(); heartbeat.play(); heartbeat.loop = true; }, 4000);
   }
function isMouseInsideArea(area) {
    const mouseX = event.clientX - canvas.getBoundingClientRect().left; const mouseY = event.clientY - canvas.getBoundingClientRect().top;
  return mouseX >= area.x && mouseX <= area.x + area.width && mouseY >= area.y && mouseY <= area.y + area.height; }
    canvas.addEventListener('click', function(event) {
    const mouseX = event.clientX - canvas.getBoundingClientRect().left; const mouseY = event.clientY - canvas.getBoundingClientRect().top;
  if (currentScene !== 'A1' && mouseX >= 375 && mouseX <= 425 && mouseY >= 600 && mouseY <= 650) { goBackOneScene();
} else { changeScene(); animateStaminaBar(); } });
function goBackOneScene() { currentScene = backwardMap[currentScene] || currentScene; fadeOut = true; walkBackwardSound.play(); }
    const titleContainer = document.getElementById('titleContainer');
    canvas.addEventListener('mousemove', function(event) { mouseX = event.clientX - canvas.getBoundingClientRect().left; mouseY = event.clientY - canvas.getBoundingClientRect().top;
let insideClickableArea = false; let areaTitle = '';
    const scene = scenes[currentScene]; scene.clickableAreas.forEach(area => { if (isMouseInsideArea(area)) { insideClickableArea = true; areaTitle = area.title || ''; } });
    const arrowClickableArea = { x: 375, y: 600, width: 50, height: 50 }; if (isMouseInsideArea(arrowClickableArea)) { insideClickableArea = true; }
  canvas.style.cursor = insideClickableArea ? 'pointer' : 'default';
  titleContainer.style.opacity = insideClickableArea ? 1 : 0; titleContainer.innerText = areaTitle;
}); canvas.addEventListener('mouseout', function(event) { titleContainer.style.opacity = 0; }); 
 drawScene(); } </script>  
</body></html><!--
     FILE ARCHIVED ON 00:33:26 Mar 18, 2024 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 00:42:51 Jun 11, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
--><!--
playback timings (ms):
  captures_list: 0.54
  exclusion.robots: 0.067
  exclusion.robots.policy: 0.06
  esindex: 0.008
  cdx.remote: 5.659
  LoadShardBlock: 231.345 (3)
  PetaboxLoader3.datanode: 213.103 (5)
  PetaboxLoader3.resolve: 300.79 (3)
  load_resource: 306.422 (2)
-->